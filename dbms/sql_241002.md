## ch5. DCL
### `DCL이란?`
DCL은 “Data Control Language”의 약자이다.

1. 데이터베이스를 다룰 수 있는 권한을 부여하거나 박탈
2. 트랜잭션(Transaction)을 관리 (트랜잭션이란 하나의 기능을 수행하기위한 하나의 논리적인 작업 단위)

<br>

| DCL | |
| --- | --- |
| GRANT | 권한 부여 |
| REVOKE | 권한 박탈 |
| COMMIT | 트랜잭션 적용 |
| ROLLBACK | 트랜잭션 취소, 복구 |

<br>

### `GRANT, REVOKE`
GRANT, REVOKE는 데이터 접근 권한을 제어하기위한 SQL문이다.

#### REVOKE
```sql
REVOKE [권한] ON [테이블명] FROM [권한을 박탈할 사용자]
```

#### GRANT
```sql
GRANT [권한] ON [테이블명] TO [권한을 받을 사용자]
```

<br>

< GRANT, REVOKE에서 부여하고 박탈할 수 있는 권한의 종류 >

| | |
| --- | --- |
| SELECT | 조회 권한 |
| UPDATE | 수정 권한 |
| INSERT | 삽입 권한 |
| DELETE | 삭제 권한 |
| ALL | 모든 권한 |

<br>

### `COMMIT, ROLLBACK`
COMMIT, ROLLBACK은 트랜잭션(Transaction)을 관리하기위해 사용한다.

#### 트랜잭션

```sql
BEGIN; -- 트랜잭션 시작

INSERT INTO accounts(name, balance) VALUES('A', 10000);
```

#### COMMIT
트랜잭션을 최종적으로 모든 세션에 반영하기 위한 SQL문이다.
```sql
BEGIN;

INSERT INTO accounts(name, balance) VALUES('A', 10000);

COMMIT;
```

#### ROLLBACK
현재 트랜잭션을 반영하지 않고 되돌리는 명령어이다.
```sql
BEGIN;

INSERT INTO accounts(name, balance) VALUES('B', 10000);

ROLLBACK;
```

<br>

## ch6. 데이터 모델링과 ERD
### `정규화`
데이터베이스 정규화(Normalization)는 데이터의 구조를 최적화하는 과정이며 데이터의 중복을 최소화하는데 목적이 있다.

<br>

< 정규화의 장점 >

1. 일관성

정규화된 테이블은 각 테이블이 하나의 목적을 가지고 있기 때문에 데이터를 더 쉽게 관리할 수 있다. 데이터를 수정하거나 삭제할 때 오류가 발생할 가능성이 줄어들고, 데이터의 일관성을 유지하기가 더 쉬워진다.

2. 유연성

데이터 구조를 변경하거나 새로운 요구 사항을 쉽게 수용할 수 있다. 새로운 속성이나 테이블을 추가하는데 더 유연하며, 변경 사항이 다른 부분에 미치는 영향을 최소화한다.

3. 저장 공간 최적화

정규화로 저장 공간을 효율적으로 사용할 수 있다. 중복 데이터가 제거되므로 데이터 크기를 줄일 수 있고, 저장 공간과 관련된 비용을 절감할 수 있다.

<br>

#### 정규화 종류
정규화는 제 1 정규화, 제 2 정규화, 제 3 정규화, BCNF 정규화, 제 4 정규화, 제 5 정규화로 나누어진다. 제 5 정규화로 갈수록 더 엄격한 제약 조건이 있지만 상황에 따라 적절한 정규화를 선택하는 것이 중요하다.

<br>

1. 제 1 정규화 (1NF)

각 열이 하나의 값을 가지게 하는 과정이다.

2. 제 2 정규화 (2NF)

제 2 정규화는 테이블의 비주요 속성이 기본키에 대해 `완전 함수 종속`되도록 하는 것이다. -> 모든 열이 기본키(primary key)에 의존해야 한다는 것을 의미 -> 현재 테이블의 주제와 관련없는 컬럼을 다른 테이블로 분리하는 작업

3. 제 3 정규화 (3NF)

제2 정규화를 완료한 테이블에서 `이행적 함수 종속성`을 제거하는 과정이다. (이행적 함수 종속은 A -> B 종속, B -> C 종속, A -> C 종속인 관계) 즉, 일반 컬럼에만 종속된 컬럼은 다른 테이블로 빼는것이 제3 정규화 -> 각 테이블이 하나의 주제를 가지도록 분리

<br>

### `데이터 모델링 소개`
데이터 모델링이란 데이터베이스를 구축하기 위해 데이터의 구조와 관계를 시각적으로 표현하는 것이다.

< 데이터를 모델링하면 얻을 수 있는 장점 >

1. 데이터의 전체적인 구조를 파악하는데 도움
2. 협업하는 동료들과 소통할 때 유용

<br>

< 데이터 모델링의 절차 >

1. 개념적 모델링
2. 논리적 모델링
3. 물리적 모델링

<br>

#### 1. 개념적 모델링
비즈니스 요구 사항을 파악하고 이를 데이터 모델로 표현하는 단계이며 데이터를 의미 있는 단위로 분류하고 관계를 `정의`한다.
(대략적으로 개념만)

<br>

#### 2. 논리적 모델링
개념적 모델을 기반으로 데이터의 구조와 관계를 `구체화`하는 단계이다.

< 개념적 모델보다 구체화된 부분 >

1. 각 테이블의 필드 정보
2. 테이블 간의 관계 (1:1, 1:N, N:M)

<br>

#### 3. 물리적 모델링
논리적 모델을 기반으로 실제 데이터베이스로 `구현`하는 단계이며 시각적으로 표현했던 모델을 SQL문을 통해 실제 테이블로 만든다.

<br>

#### 데이터 모델링 과정 요약 

1. 요구 사항이 무엇인지 분석
2. 요구 사항을 충족하기 위해 필요한 데이터를 정하고, 그들의 관계를 설정하는 개념적 모델링
3. 개념적 모델을 구체적인 표로 만드는 논리적 모델링
4. 실제 데이터베이스 테이블로 만드는 물리적 모델링

<br>

### `ERD 그리기`
ERD는 Entity-Relationship Diagram(개체-관계 다이어그램)의 약자이며 개체 간의 관계를 시각적으로 표현할 때 사용한다.

ERD는 논리적 모델링의 방법 중 하나이고 개념적 모델을 기반으로 데이터의 구조와 관계를 구체화하는 단계이다.

<br>

#### ERD의 구성 요소
1. 개체(Entity)

개체는 고유하게 식별할 수 있는 사물, 개념, 사건 등을 의미한다.
예를 들어 `사용자, 제품, 주문` 등이 개체가 될 수 있고
개체는 데이터베이스에서 테이블로 표현됩니다.

2. 속성(Attribute)

속성은 개체의 특징이나 성질을 나타내고 하나의 개체는 여러 개의 속성을 가질 수 있다. 예를 들어, `학생` 개체의 속성으로는 학번, 이름, 주소 등이 있을 수 있다. 속성은 데이터베이스에서 테이블의 column(열)로 표현된다.

3. 관계(Relationship)

관계는 개체 간의 연결을 나타낸다. 관계에는 일대일(1:1), 일대다(1:N), 다대다(N:M) 유형이 있다. 예를 들어, `학생`이라는 개체와 `수강`이라는 개체가 있다고 가정해봅시다. 한 학생이 여러 강의를 수강할 수 있으므로 `학생`과 `수강` 간의 관계는 일대다(1:N)라고 할 수 있다.

<br>

< ERD Cloud 실습 >

![alt text](/image/erd.png)

<br>

## Daily Quiz

#### ERD 그리기

![alt text](/image/erd_daily.png)